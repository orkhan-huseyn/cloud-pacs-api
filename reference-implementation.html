<html>
<head>
    <link rel="stylesheet" href="assets/css/styles.css">
    <title>PostDICOM Cloud API Reference Implementation</title>
    <link type="image/x-icon" rel="Shortcut Icon" href="data:image/png;base64,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" />
    <link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">
    <script src="https://www.postdicom.com/cloud-api/PostDicomCloudApi.3.4.min.js"></script>

    <script>
        var apiKey;
        var accountKey;
        var userUuid;
        var institutionUuid;
        var selectedPatientOrderUuid = null;

        var cloudApi;
        var accountUserList;
        var accountUserInstitutionList;

        function ConnectToApi() {
            document.getElementById("upload_container").style.display = "none";

            if (document.getElementById("accountKey").value) {
                accountKey = document.getElementById("accountKey").value;
            }
            else {
                alert("Account Key must be filled");
            }
            if (document.getElementById("apiKey").value) {
                apiKey = document.getElementById("apiKey").value;
            }
            else {
                alert("Api Key must be filled");
            }

            if (accountKey && apiKey) {
                ShowLoading();
                cloudApi = new postDicomCloudApi(apiKey, accountKey);
                cloudApi.Initialize(function (result) {
                    console.log(result)
                    if (result.Success) {
                        var apiStartScreen = document.getElementById("api_description_text_area");
                        var apiSelectProcessTypeScreen = document.getElementById("api_select_process_type_area");

                        apiStartScreen.style.display = "none";
                        apiSelectProcessTypeScreen.style.display = "block";
                    }
                    else {
                        document.getElementById("upload_container").style.display = "none";
                    }
                    HideLoading();
                });
            }
            else {
                alert("Please fill all blanks");
            }
        }

        function ReturnSelectScreen() {
            document.getElementById("upload_container").style.display = "none";
            document.getElementById("search_container").style.display = "none";
            document.getElementById("folder_container").style.display = "none";
            document.getElementById("api_select_process_type_area").style.display = "block";
            document.getElementById("UserSelectBox").innerHTML = "";
            document.getElementById("UserSearchSelectBox").innerHTML = "";
            document.getElementById("FolderUserSelectBox").innerHTML = "";

            document.getElementById("folder_result_container").innerHTML = "";
            document.getElementById("order_result_container").innerHTML = "";
            document.getElementById("folder_result_grid").style.display = "none";

            document.getElementById("search_result_tbody").innerHTML = "";
            document.getElementById("search_result_grid").style.display = "none";
        }

        function UploadProcessTypeOnClicked() {
            var selectedApp = document.getElementById("app_upload");
            var unselectedApp1 = document.getElementById("app_search");
            var unselectedApp2 = document.getElementById("app_folder");

            selectedApp.classList.add("selected_app");
            selectedApp.classList.remove("unselect_upload");
            selectedApp.classList.add("select_upload");

            document.getElementById("app_upload_t").style.color = "#38bfdd";
            document.getElementById("app_search_t").style.color = "#4a4a4a";
            document.getElementById("app_folder_t").style.color = "#4a4a4a";

            unselectedApp1.classList.remove("selected_app");
            unselectedApp1.classList.remove("select_search");
            unselectedApp1.classList.add("unselect_search");

            unselectedApp2.classList.remove("selected_app");
            unselectedApp2.classList.remove("select_folder");
            unselectedApp2.classList.add("unselect_folder");

            document.getElementById("upload_process_button").style.display = "initial";
            document.getElementById("search_process_button").style.display = "none";
            document.getElementById("folder_process_button").style.display = "none";
        }

        function SearchProcessTypeOnClicked() {
            var selectedApp = document.getElementById("app_search");
            var unselectedApp1 = document.getElementById("app_upload");
            var unselectedApp2 = document.getElementById("app_folder");

            selectedApp.classList.add("selected_app");
            selectedApp.classList.remove("unselect_search");
            selectedApp.classList.add("select_search");

            document.getElementById("app_search_t").style.color = "#38bfdd";
            document.getElementById("app_upload_t").style.color = "#4a4a4a";
            document.getElementById("app_folder_t").style.color = "#4a4a4a";

            unselectedApp1.classList.remove("selected_app");
            unselectedApp1.classList.remove("select_upload");
            unselectedApp1.classList.add("unselect_upload");

            unselectedApp2.classList.remove("selected_app");
            unselectedApp2.classList.remove("select_folder");
            unselectedApp2.classList.add("unselect_folder");

            document.getElementById("upload_process_button").style.display = "none";
            document.getElementById("search_process_button").style.display = "initial";
            document.getElementById("folder_process_button").style.display = "none";
        }

        function FolderProcessTypeOnClicked() {
            var selectedApp = document.getElementById("app_folder");
            var unselectedApp1 = document.getElementById("app_search");
            var unselectedApp2 = document.getElementById("app_upload");

            selectedApp.classList.add("selected_app");
            selectedApp.classList.remove("unselect_folder");
            selectedApp.classList.add("select_folder");

            document.getElementById("app_folder_t").style.color = "#38bfdd";
            document.getElementById("app_search_t").style.color = "#4a4a4a";
            document.getElementById("app_upload_t").style.color = "#4a4a4a";

            unselectedApp1.classList.remove("selected_app");
            unselectedApp1.classList.remove("select_search");
            unselectedApp1.classList.add("unselect_search");

            unselectedApp2.classList.remove("selected_app");
            unselectedApp2.classList.remove("select_upload");
            unselectedApp2.classList.add("unselect_upload");

            document.getElementById("upload_process_button").style.display = "none";
            document.getElementById("search_process_button").style.display = "none";
            document.getElementById("folder_process_button").style.display = "initial";
        }

        function ShowUploadPage() {
            ShowLoading();
            cloudApi = new postDicomCloudApi(apiKey, accountKey);
            cloudApi.Initialize(function (result) {
                console.log(result)
                if (result.Success) {
                    accountUserList = result.Account.UserList;
                    document.getElementById("api_select_process_type_area").style.display = "none";

                    document.getElementById("upload_container").style.display = "block";
                    for (var i = 0; i < accountUserList.length; i++) {
                        document.getElementById("UserSelectBox").innerHTML = document.getElementById("UserSelectBox").innerHTML + "<option value='&quot;" + accountUserList[i].UserUuid + "&quot;'>&quot;" + accountUserList[i].UserName + "&quot;</option>"
                    }
                    UserOnSelected();
                }
                else {
                    document.getElementById("upload_container").style.display = "none";
                }
                HideLoading();
            });

            if (document.getElementById("progress_area_id").style.display == "block") {
                document.getElementById("upload_result_grid").style.animationName = "kill-animation";
            }
            else {
                document.getElementById("upload_result_grid").style.animationName = "showGrid";
            }
        }


        function ShowSearchPage() {
            ShowLoading();
            cloudApi = new postDicomCloudApi(apiKey, accountKey);
            cloudApi.Initialize(function (result) {
                console.log(result)
                if (result.Success) {
                    accountUserList = result.Account.UserList;
                    document.getElementById("api_select_process_type_area").style.display = "none";

                    document.getElementById("search_container").style.display = "block";
                    for (var i = 0; i < accountUserList.length; i++) {
                        document.getElementById("UserSearchSelectBox").innerHTML = document.getElementById("UserSearchSelectBox").innerHTML + "<option value='&quot;" + accountUserList[i].UserUuid + "&quot;'>&quot;" + accountUserList[i].UserName + "&quot;</option>"
                    }
                    UserSearchOnSelected();
                }
                HideLoading();
            });
        }

        function ShowFolderPage() {
            ShowLoading();
            cloudApi = new postDicomCloudApi(apiKey, accountKey);
            cloudApi.Initialize(function (result) {
                console.log(result)
                if (result.Success) {
                    accountUserList = result.Account.UserList;
                    document.getElementById("api_select_process_type_area").style.display = "none";

                    document.getElementById("folder_container").style.display = "block";
                    for (var i = 0; i < accountUserList.length; i++) {
                        document.getElementById("FolderUserSelectBox").innerHTML = document.getElementById("FolderUserSelectBox").innerHTML + "<option value='&quot;" + accountUserList[i].UserUuid + "&quot;'>&quot;" + accountUserList[i].UserName + "&quot;</option>"
                    }
                    FolderUserOnSelected();
                }
                HideLoading();
            });
        }

        function PatientOrderSearch() {
            var searchResultString = "";
            if (userUuid && institutionUuid) {
                ShowLoading();
                cloudApi.GetPatientOrderList(function (result) {
                    console.log(result);
                    if (result.Success == true) {
                        for (i = 0; i < result.SearchResultList.length; ++i) {
                            searchResultString += `<tr>
                                                           <td>` + result.SearchResultList[i].PatientName + `</td>
                                                             <td>` + result.SearchResultList[i].OtherPatientId + `</td>
                                                             <td>` + result.SearchResultList[i].OrderModality + `</td>
                                                             <td>` + result.SearchResultList[i].PatientOrderUuid + `</td>
                                                             <td>` + result.SearchResultList[i].StudyDescription + `</td>
                                                             <td>` + result.SearchResultList[i].RequestingProcedureDescription + `</td>
                                                             <td style="min-width:180px;"><button class='table_button' onclick='GetViewUrl(&quot;` + result.SearchResultList[i].PatientOrderUuid + `&quot;)'>View</button>
                                                                 <button class='table_button' onclick='ShowAddDocumentForm(&quot;` + result.SearchResultList[i].PatientOrderUuid + `&quot;,&quot;` + result.SearchResultList[i].PatientName + `&quot;)'>Add Document</button></td>
                                                       </tr>`;
                        }
                        document.getElementById("search_result_tbody").innerHTML = searchResultString;
                        document.getElementById("search_result_grid").style.display = "block";
                        HideLoading();
                    }
                    else {
                        alert("Error while searching..");
                        HideLoading();
                    }
                }, userUuid, [institutionUuid]);
            }
            else {
                alert("UserUuid and InstitutionUuid must be specified");
            }
        }

        var folderPath = "";
        var selectedFolderParent = "";
        function FolderSearchButtonOnClicked(selectedFolderUuid) {
            selectedFolderParent = selectedFolderUuid;
            if (selectedFolderUuid == "") {
                folderPath = "";
                document.getElementById("folder_path").innerHTML = folderPath;
            }
            if (userUuid) {
                var folderResultString = "";
                var orderResultString = "";
                ShowLoading();
                cloudApi.GetFolderList(userUuid, selectedFolderUuid, "", true, function (result) {
                    console.log(result)
                    if (result.Success == true) {
                        for (var i = 0; i < result.Folder.SubFolderList.length; i++) {

                            var isShared = "";
                            if (result.Folder.SubFolderList[i].IsShared) {
                                isShared = " folder_unselect_shared";
                            }
                            else {
                                isShared = " folder_unselect";
                            }

                            folderResultString += `<div id="folderId_` + i + `" class="each_folder_container` + isShared + `" ondblclick='FolderOnDoubleClicked(&quot;` + result.Folder.SubFolderList[i].FolderUuid + `&quot;,&quot;` + result.Folder.SubFolderList[i].FolderName + `&quot;)'>
                                                            <div class="each_folder_name_class">
                                                             ` + result.Folder.SubFolderList[i].FolderName + `
                                                            </div>
                                                            <div class="each_folder_folder_description_class">
                                                             ` + result.Folder.SubFolderList[i].FolderDescription + `
                                                            </div>
                                                            <div class="each_folder_folder_counts_area_class">
                                                                <div class="each_counts_area_class" style="margin-left: 0px !important" title="Number of orders in current folder">
                                                                 ` + result.Folder.SubFolderList[i].OrderCount + `
                                                                </div>
                                                                <div class="each_counts_area_class" title="Number of orders in current folder and it's sub-folders">
                                                                 ` + result.Folder.SubFolderList[i].AllSubOrderCount + `
                                                                </div>
                                                                <div class="each_counts_area_class" title="Number of folders in current folder">
                                                                 ` + result.Folder.SubFolderList[i].SubFolderCount + `
                                                                </div>
                                                                <div class="each_counts_area_class" title="Number of folders in current folder and it's sub-folders">
                                                                 ` + result.Folder.SubFolderList[i].AllSubFolderCount + `
                                                                </div>
                                                            </div>
                                                       </div>`;
                        }

                        for (var j = 0; j < result.Folder.PatientOrderList.length; j++) {
                            orderResultString += `<div class="each_order_container_class unselect_order">
                                                            <div class="each_order_order_modality_class">
                                                                ` + result.Folder.PatientOrderList[j].OrderModality + `
                                                            </div>
                                                            <div class="each_order_patient_information_class" style="margin-top:10px;">
                                                                ` + result.Folder.PatientOrderList[j].PatientName + `
                                                            </div>
                                                            <div class="each_order_patient_information_class">
                                                                ` + result.Folder.PatientOrderList[j].OtherPatientId + `
                                                            </div>
                                                            <div class="each_order_patient_information_class">
                                                                ` + result.Folder.PatientOrderList[j].PerformedDatetime + `
                                                            </div>
                                                            <div class="each_order_patient_information_class">
                                                                ` + result.Folder.PatientOrderList[j].OrderSize + ` KB
                                                            </div>
                                                            <div class="each_order_order_counts_class">
                                                                <div class="patient_order_images_count_area_class" title="Number of dicom images">
                                                                    ` + result.Folder.PatientOrderList[j].ImagesCount + `
                                                                </div>
                                                                <div class="patient_order_documents_count_area_class" title="Number of documents">
                                                                    ` + result.Folder.PatientOrderList[j].DocumentsCount + `
                                                                </div>
                                                            </div>
                                                      </div>`;
                        }

                        document.getElementById("folder_result_container").innerHTML = folderResultString;
                        document.getElementById("order_result_container").innerHTML = orderResultString;
                        document.getElementById("folder_result_grid").style.display = "block";
                        HideLoading();
                    }
                    else {
                        alert("Unexpected error!");
                        HideLoading();
                    }

                });
            }
            else {
                alert("UserUuid must be specified");
                HideLoading();
            }
        }

        function ShowFolderCreateForm() {
            document.getElementById("folder_create_form_container").style.display = "block";
            document.getElementById("folder_create_name").value = "";
            //document.getElementById("folder_create_description").value = "";
        }

        function CloseFolderCreateForm() {
            document.getElementById("folder_create_form_container").style.display = "none";
        }

        function FolderOnDoubleClicked(selectedFolderUuid, selectedFolderName) {
            //folderPath += `<span onclick='FolderSearchButtonOnClicked(&quot;` + selectedFolderUuid + `&quot;)'> /` + selectedFolderName + `</span>`;
            folderPath = `<span style="color:inherit!important; text-decoration:inherit!important; cursor:default!important;">/.. /` + selectedFolderName + `</span>`;
            document.getElementById("folder_path").innerHTML = folderPath;
            FolderSearchButtonOnClicked(selectedFolderUuid);
        }

        function CreateFolder() {
            var folderName = "";
            var folderDescription = "";
            folderName = document.getElementById("folder_create_name").value;
            folderDescription = document.getElementById("folder_create_description").value;
            ShowLoading();
            if (folderName != "") {
                cloudApi.CreateFolder(userUuid, selectedFolderParent, folderName, function (result) {
                    console.log(result);
                    CloseFolderCreateForm();
                    HideLoading();
                    FolderSearchButtonOnClicked(selectedFolderParent);
                });
            }
            else {
                alert("Please fill the required parameter!");
                HideLoading();
            }
        }


        var selectedDicomResultList = null;
        function SelectFiles(event, type) {
            ShowLoading();
            var fileCount = event.target.files.length;

            cloudApi.ReadDicomFiles(event.target.files, function (result) {
                selectedDicomResultList = result;
                var uploadResultString = "";

                if (result.Progress == 100) {
                    for (var i = 0; i < result.StudyList.length; i++) {
                        if (result.StudyList[i].ImageList.length > 0 && result.StudyList[i].SeriesList.length > 0) {
                            uploadResultString += `<tr>
                                                           <td>` + result.StudyList[i].PatientName + `</td>
                                                             <td>` + result.StudyList[i].Modality + `</td>
                                                             <td>` + result.StudyList[i].PatientId + `</td>
                                                             <td>` + result.StudyList[i].StudyDescription + `</td>
                                                             <td>` + result.StudyList[i].SeriesList.length + `</td>
                                                             <td>` + result.StudyList[i].ImageList.length + `</td>
                                                             <td style="min-width:240px;"><button class='table_button' onclick='UploadFilesDirectly(&quot;` + i + `&quot;)'>Upload</button>
                                                                 <button class='table_button' onclick='ShowAnonymizeForm(&quot;` + i + `&quot;)'>Anonymize and Upload</button></td>
                                                       </tr>`;
                        }
                    }
                    document.getElementById("upload_result_tbody").innerHTML = uploadResultString;
                    document.getElementById("upload_result_grid").style.display = "block";
                    HideLoading();
                }
            })

            if (type == 1) {
                document.getElementById("upload_file_count_text").innerText = fileCount + " file(s) selected";
            }
            else {
                document.getElementById("upload_folder_count_text").innerText = fileCount + " file(s) selected";
            }
        }

        function UploadFilesDirectly(resultIndex) {
            document.getElementById("progress_area_id").style.display = "block";
            var fileList = selectedDicomResultList.StudyList[resultIndex].FileList;

            cloudApi.UploadDicomFiles(userUuid, institutionUuid, fileList, function (progress) {
                console.log(progress);

                if (progress.State == "Sending") {
                    if (progress.Progress >= 100) {
                        document.getElementById("progress_total_inner").style.width = 100 + '%';
                        document.getElementById("progress_total_text").innerHTML = "Upload Completed";
                    }
                    else {
                        document.getElementById("progress_total_inner").style.width = Math.round(progress.Progress) + '%';
                        document.getElementById("progress_total_text").innerHTML = Math.round(progress.Progress).toString() + "%";
                    }
                } else if (progress.State == "Reading") {
                    if (progress.Progress >= 100) {
                        document.getElementById("progress_inner").style.width = 100 + '%';
                        document.getElementById("progress_text").innerHTML = "Read Completed";
                    }
                    else {
                        document.getElementById("progress_inner").style.width = Math.round(progress.Progress) + '%';
                        document.getElementById("progress_text").innerHTML = Math.round(progress.Progress).toString() + "%";
                    }
                }

                if (progress.State == "File Upload Completed") {
                    document.getElementById("progress_inner").style.width = 100 + '%';
                    document.getElementById("progress_text").innerHTML = "Read Completed";
                    document.getElementById("progress_total_inner").style.width = 100 + '%';
                    document.getElementById("progress_total_text").innerHTML = "Upload Completed";
                    document.getElementById("upload_container").style.height = "180px";
                }

            })
        }

        var selectedAnonimizedStudyIndex = 0;
        function ShowAnonymizeForm(resultIndex) {
            selectedAnonimizedStudyIndex = resultIndex;
            var selectedStudy = selectedDicomResultList.StudyList[resultIndex];
            if (selectedStudy.TransferSyntaxUid == "") {
                alert("Anonymization cannot be performed because there is no 'TransferSyntaxUID' value in the DICOM file.");
            }
            else {
                document.getElementById("anonymize_form_container").style.display = "block";

                document.getElementById("anonymize_patient_name_row").style.display = "block";
                document.getElementById("anonymize_patient_id_row").style.display = "block";
                document.getElementById("anonymize_patient_other_id_row").style.display = "block";
                document.getElementById("anonymize_accession_no_row").style.display = "block";
                document.getElementById("anonymize_study_date_row").style.display = "block";
                document.getElementById("anonymize_study_description_row").style.display = "block";
                document.getElementById("anonymize_institution_name_row").style.display = "block";

                if (selectedStudy.PatientName === undefined) {
                    document.getElementById("anonymize_patient_name_row").style.display = "none";
                }
                if (selectedStudy.PatientId === undefined) {
                    document.getElementById("anonymize_patient_id_row").style.display = "none";
                }
                if (selectedStudy.OtherPatientId === undefined) {
                    document.getElementById("anonymize_patient_other_id_row").style.display = "none";
                }
                if (selectedStudy.AccessionNumber === undefined) {
                    document.getElementById("anonymize_accession_no_row").style.display = "none";
                }
                if (selectedStudy.StudyDate === undefined) {
                    document.getElementById("anonymize_study_date_row").style.display = "none";
                }
                if (selectedStudy.StudyDescription === undefined) {
                    document.getElementById("anonymize_study_description_row").style.display = "none";
                }
                if (selectedStudy.InstitutionName === undefined) {
                    document.getElementById("anonymize_institution_name_row").style.display = "none";
                }

                var dateArray = [];
                dateArray = selectedStudy.StudyDate.split('');
                var year = "";
                year = dateArray[0] + dateArray[1] + dateArray[2] + dateArray[3];
                var month = "";
                month = dateArray[4] + dateArray[5];
                var day = "";
                day = dateArray[6] + dateArray[7];

                document.getElementById("selected_study_patient_name").innerHTML = selectedStudy.PatientName;
                document.getElementById("selected_study_patient_id").innerHTML = selectedStudy.PatientId;
                document.getElementById("selected_study_patient_other_id").innerHTML = selectedStudy.OtherPatientId;
                document.getElementById("selected_study_accession_no").innerHTML = selectedStudy.AccessionNumber;
                document.getElementById("selected_study_study_date").innerHTML = selectedStudy.StudyDate;
                document.getElementById("selected_study_study_description").innerHTML = selectedStudy.StudyDescription;
                document.getElementById("selected_study_institution_name").innerHTML = selectedStudy.InstitutionName;


                document.getElementById("selected_study_patient_name_tb").value = selectedStudy.PatientName;
                document.getElementById("selected_study_patient_id_tb").value = selectedStudy.PatientId;
                document.getElementById("selected_study_patient_other_id_tb").value = selectedStudy.OtherPatientId;
                document.getElementById("selected_study_accession_no_tb").value = selectedStudy.AccessionNumber;
                document.getElementById("selected_study_study_date_tb").value = year + "-" + month + "-" + day;
                document.getElementById("selected_study_study_description_tb").value = selectedStudy.StudyDescription;
                document.getElementById("selected_study_institution_name_tb").value = selectedStudy.InstitutionName;
            }
        }

        var anonymousData = [];
        function UploadFilesWithAnonymousValue() {
            var selectedStudy = selectedDicomResultList.StudyList[selectedAnonimizedStudyIndex];

            anonymousData = [];
            var patientName = document.getElementById("selected_study_patient_name_tb").value;
            var patientId = document.getElementById("selected_study_patient_id_tb").value;
            var otherPatientId = document.getElementById("selected_study_patient_other_id_tb").value;
            var accessionNumber = document.getElementById("selected_study_accession_no_tb").value;
            var studyDate = document.getElementById("selected_study_study_date_tb").value;
            var studyDescription = document.getElementById("selected_study_study_description_tb").value;
            var institutionName = document.getElementById("selected_study_institution_name_tb").value;

            anonymousData.push({ Tag: cloudApi.DicomTagsEnum.PatientName, Value: patientName });
            anonymousData.push({ Tag: cloudApi.DicomTagsEnum.PatientId, Value: patientId });
            anonymousData.push({ Tag: cloudApi.DicomTagsEnum.OtherPatientId, Value: otherPatientId });
            anonymousData.push({ Tag: cloudApi.DicomTagsEnum.AccessionNumber, Value: accessionNumber });
            anonymousData.push({ Tag: cloudApi.DicomTagsEnum.StudyDate, Value: studyDate });
            anonymousData.push({ Tag: cloudApi.DicomTagsEnum.StudyDescription, Value: studyDescription });
            anonymousData.push({ Tag: cloudApi.DicomTagsEnum.InstitutionName, Value: institutionName });


            cloudApi.UploadDicomFilesWithAnonymization(userUuid, institutionUuid, selectedStudy.FileList, anonymousData, function (progress) {
                document.getElementById("progress_area_id").style.display = "block";
                console.log(progress);
                CloseAnonymizeForm();

                if (progress.State == "Sending") {
                    if (progress.Progress >= 100) {
                        document.getElementById("progress_total_inner").style.width = 100 + '%';
                        document.getElementById("progress_total_text").innerHTML = "Upload Completed";
                    }
                    else {
                        document.getElementById("progress_total_inner").style.width = Math.round(progress.Progress) + '%';
                        document.getElementById("progress_total_text").innerHTML = Math.round(progress.Progress).toString() + "%";
                    }
                } else if (progress.State == "Reading") {
                    if (progress.Progress >= 100) {
                        document.getElementById("progress_inner").style.width = 100 + '%';
                        document.getElementById("progress_text").innerHTML = "Read Completed";
                    }
                    else {
                        document.getElementById("progress_inner").style.width = Math.round(progress.Progress) + '%';
                        document.getElementById("progress_text").innerHTML = Math.round(progress.Progress).toString() + "%";
                    }
                }

                if (progress.State == "File Upload Completed") {
                    document.getElementById("progress_inner").style.width = 100 + '%';
                    document.getElementById("progress_text").innerHTML = "Read Completed";
                    document.getElementById("progress_total_inner").style.width = 100 + '%';
                    document.getElementById("progress_total_text").innerHTML = "Upload Completed";
                    document.getElementById("upload_container").style.height = "180px";
                }
            })
        }

        function CloseAnonymizeForm() {
            document.getElementById("anonymize_form_container").style.display = "none";
        }

        function GetViewUrl(patientOrderUuid) {
            cloudApi.GetViewUrl(userUuid, patientOrderUuid, function (progress) {
                var url = progress.Result;
                var iframe = document.getElementById("view_iframe");
                iframe.src = url;
                document.getElementById("view_url_text").innerHTML = url;
                ShowIframe();
            })
        }

        function ShowIframe() {
            document.getElementById("view_container").style.display = "block";
            document.getElementById("body").style.overflow = "hidden";
        }

        function HideIframe() {
            document.getElementById("view_container").style.display = "none";
            var iframe = document.getElementById("view_iframe");
            if (iframe) {
                iframe.src = "";
            }
            document.getElementById("view_url_text").innerHTML = "";
            document.getElementById("body").style.overflow = "";
        }

        function UserOnSelected() {
            document.getElementById("InstitutionSelectBox").innerHTML = "";
            userUuid = RemoveChar(document.getElementById("UserSelectBox").value);
            findInstutionList(userUuid);
        }

        function UserSearchOnSelected() {
            document.getElementById("InstitutionSearchSelectBox").innerHTML = "";
            userUuid = RemoveChar(document.getElementById("UserSearchSelectBox").value);
            findInstutionSearchList(userUuid);
        }

        function FolderUserOnSelected() {
            userUuid = RemoveChar(document.getElementById("FolderUserSelectBox").value);
        }

        function findInstutionSearchList(userUuid) {
            for (var i = 0; i < accountUserList.length; i++) {
                if (accountUserList[i].UserUuid == userUuid) {
                    accountUserInstitutionList = accountUserList[i].InstitutionList;
                    for (var j = 0; j < accountUserInstitutionList.length; j++) {
                        document.getElementById("InstitutionSearchSelectBox").innerHTML = document.getElementById("InstitutionSearchSelectBox").innerHTML + "<option value='&quot;" + accountUserInstitutionList[j].InstitutionUuid + "&quot;'>&quot;" + accountUserInstitutionList[j].InstitutionName + "&quot;</option>"
                    }
                    InstitutionSearchOnSelected();
                }
            }
        }

        function findInstutionList(userUuid) {
            for (var i = 0; i < accountUserList.length; i++) {
                if (accountUserList[i].UserUuid == userUuid) {
                    accountUserInstitutionList = accountUserList[i].InstitutionList;
                    for (var j = 0; j < accountUserInstitutionList.length; j++) {
                        document.getElementById("InstitutionSelectBox").innerHTML = document.getElementById("InstitutionSelectBox").innerHTML + "<option value='&quot;" + accountUserInstitutionList[j].InstitutionUuid + "&quot;'>&quot;" + accountUserInstitutionList[j].InstitutionName + "&quot;</option>"
                    }
                    InstitutionOnSelected();
                }
            }
        }

        function InstitutionOnSelected() {
            institutionUuid = RemoveChar(document.getElementById("InstitutionSelectBox").value);
        }

        function InstitutionSearchOnSelected() {
            institutionUuid = RemoveChar(document.getElementById("InstitutionSearchSelectBox").value);
        }

        function RemoveChar(text) {
            return text.replace('"', '').replace('"', '');
        }

        function ShowAddDocumentForm(patientOrderUuid, patientName) {
            selectedPatientOrderUuid = patientOrderUuid;
            document.getElementById("add_document_header_text").innerHTML = 'Add Document to "' + patientName + '"';
            document.getElementById("add_document_form").style.display = "block";
            document.getElementById("document_progress_inner").style.width = "0%";
            document.getElementById("document_progress_text").innerHTML = "0%";
            document.getElementById("document_progress_description").innerHTML = "Please select files(.pdf, .mp4, .jpeg, .jpg, .png)";
        }

        function CloseAddDocumentForm() {
            selectedPatientOrderUuid = null;
            document.getElementById("add_document_form").style.display = "none";
        }

        function SelectDocumentFileInputOnChanged(event) {
            if (selectedPatientOrderUuid) {
                cloudApi.UploadDocumentFiles(userUuid, institutionUuid, selectedPatientOrderUuid, event.target.files, function (result) {
                    document.getElementById("document_progress_inner").style.width = result.Progress + "%";
                    document.getElementById("document_progress_text").innerHTML = Math.round(result.Progress).toString() + "%";
                    document.getElementById("document_progress_description").innerHTML = result.State;
                });
            }
            else {
                document.getElementById("document_progress_description").innerHTML = "Please select order!";
            }
        }

        function ShowLoading() {
            document.getElementById("loading_container").style.display = "block";
        }

        function HideLoading() {
            document.getElementById("loading_container").style.display = "none";
        }
    </script>

</head>
<body id="body">
    <span id="forkongithub">
        <a href="https://github.com/postdicom/cloud-pacs-api" target="_blank">Fork me on GitHub</a>
    </span>

    <div class="initialize_container" id="api_description_text_area">
        <div class="box_l">
            <div class="logo">
                <img class="logo_b" src="https://www.postdicom.com/ViewerI/Images/Logo/posdicom_logo.svg" />
                <h1>PostDICOM Cloud API Reference Implementation</h1>
            </div>
        </div>
        <div class="box_r">
            <h2>Enter your API and Account Keys. Then, click on the "Initialize API" button.</h2>
            <form autocomplete="off" action="javascript:void(0);">
                <label>API Key</label>
                <input type="text" class="input" id="apiKey" />
                <label>Account Key</label>
                <input type="text" class="input" id="accountKey" />
                <button class="button" onclick="ConnectToApi()">Initialize API</button>
            </form>
        </div>
        <div class="desc_content">
            <h3>For more information please visit <a class="a_tag_link" href="https://www.postdicom.com/en/api-documentation/using-postdicom-cloud-api.html" target="_blank">"Using PostDICOM Cloud API"</a> documentation.<br />If you do not have an API key, <a class="a_tag_link" href="https://www.postdicom.com/en/contact" target="_blank">contact us</a> to get yours.</h3>
        </div>
    </div>

    <div class="initialize_container" id="api_select_process_type_area">
        <div class="box_l">
            <div class="logo">
                <img class="logo_b" src="https://www.postdicom.com/ViewerI/Images/Logo/posdicom_logo.svg" />
                <h1>PostDICOM Cloud API Reference Implementation</h1>
            </div>
        </div>
        <div class="box_r">
            <span class="conn_stat">Connection Status: <span style="color:#00b100;">Online</span></span>
            <h2>Available Cloud API Functions<br /></h2>
            <form autocomplete="off" action="javascript:void(0);" style="max-width:inherit;">
                <div class="display_flex">
                    <div class="each_app_container" onclick="UploadProcessTypeOnClicked()">
                        <div id="app_upload" class="app_img select_upload selected_app">

                        </div>
                        <h4 id="app_upload_t" style="color:#38bfdd">I want to upload DICOM files</h4>
                    </div>

                    <div class="each_app_container" onclick="SearchProcessTypeOnClicked()">
                        <div id="app_search" class="app_img unselect_search">

                        </div>
                        <h4 id="app_search_t">I want to search patient orders</h4>
                    </div>

                    <div class="each_app_container" onclick="FolderProcessTypeOnClicked()">
                        <div id="app_folder" class="app_img unselect_folder">

                        </div>
                        <h4 id="app_folder_t">I want to manage folders</h4>
                    </div>
                </div>

                <button class="button" id="upload_process_button" onclick="ShowUploadPage()">Go to Upload Page</button>
                <button class="button" id="search_process_button" onclick="ShowSearchPage()">Go to Search Page</button>
                <button class="button" id="folder_process_button" onclick="ShowFolderPage()">Go to Folder Page</button>
            </form>
        </div>
        <div class="desc_content">
            <h3>For more information please visit <a class="a_tag_link" href="https://www.postdicom.com/en/api-documentation/using-postdicom-cloud-api.html" target="_blank">"Using PostDICOM Cloud API"</a> documentation.</h3>
        </div>
    </div>

    <div id="upload_container">
        <div class="initialize_container">
            <div class="box_l">
                <div class="logo">
                    <img class="logo_b" src="https://www.postdicom.com/ViewerI/Images/Logo/posdicom_logo.svg" />
                    <h1>PostDICOM Cloud API Reference Implementation</h1>
                </div>
            </div>
            <div class="box_r">
                <span class="conn_stat">Connection Status: <span style="color:#00b100;">Online</span></span>
                <h2>Upload DICOM Files<br /></h2>
                <form autocomplete="off" action="javascript:void(0);">
                    <label>User</label>
                    <select class="input" id="UserSelectBox" onchange="UserOnSelected()"></select>
                    <label>Institution</label>
                    <select class="input" id="InstitutionSelectBox" onchange="InstitutionOnSelected()"></select>
                    <div style="float:left; width:50%;">
                        <label class="file">
                            <input style="display:none;" type="file" multiple onchange="SelectFiles(event,1)">Select File
                        </label>
                        <span style="text-indent:-25px;" id="upload_file_count_text">0 file selected</span>
                    </div>
                    <div style="float:left; width:50%;">
                        <label class="file">
                            <input style="display:none;" type="file" multiple webkitdirectory mozdirectory onchange="SelectFiles(event,2)">Select Folder
                        </label>
                        <span id="upload_folder_count_text">0 file selected</span>
                    </div>
                </form>
                <div class="return" title="Return to Cloud API Functions" onclick="ReturnSelectScreen()">

                </div>
            </div>
            <div class="desc_content">
                <h3>For more information please visit <a class="a_tag_link" href="https://www.postdicom.com/en/api-documentation/using-postdicom-cloud-api.html" target="_blank">"Using PostDICOM Cloud API"</a> documentation.</h3>
            </div>
        </div>

        <div class="file_result_container">
            <div id="progress_area_id" class="progress_container">
                <div class="progress_content">
                    <div class="progress_rows">
                        <label>File(s) Read Progress...</label>
                        <div class="progres_outer_div">
                            <div id="progress_inner" class="progres_total_inner_div">
                                <span id="progress_text">0%</span>
                            </div>
                        </div>
                    </div>
                    <div class="progress_rows">
                        <label>Send Progress...</label>
                        <div class="progres_outer_div">
                            <div id="progress_total_inner" class="progres_total_inner_div">
                                <span id="progress_total_text">0%</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="grid_upload" id="upload_result_grid">
                <table>
                    <thead>
                        <tr>
                            <th>Patient Name</th>
                            <th>Modality</th>
                            <th>Patient Id</th>
                            <th>Study Description</th>
                            <th>Series</th>
                            <th>Images</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody id="upload_result_tbody"></tbody>
                </table>
            </div>
        </div>
    </div>

    <div id="search_container">
        <div class="initialize_container">
            <div class="box_l">
                <div class="logo">
                    <img class="logo_b" src="https://www.postdicom.com/ViewerI/Images/Logo/posdicom_logo.svg" />
                    <h1>PostDICOM Cloud API Reference Implementation</h1>
                </div>
            </div>
            <div class="box_r">
                <span class="conn_stat">Connection Status: <span style="color:#00b100;">Online</span></span>
                <h2>Search Patient Orders<br /></h2>
                <form autocomplete="off" action="javascript:void(0);">
                    <label>User</label>
                    <select class="input" id="UserSearchSelectBox" onchange="UserSearchOnSelected()"></select>
                    <label>Institution</label>
                    <select class="input" id="InstitutionSearchSelectBox" onchange="InstitutionSearchOnSelected()"></select>
                    <button class="button" id="search_button" onclick="PatientOrderSearch()">Search Patient Orders</button>
                </form>
                <div class="return" title="Return to Cloud API Functions" onclick="ReturnSelectScreen()">

                </div>
            </div>
            <div class="desc_content">
                <h3>For more information please visit <a class="a_tag_link" href="https://www.postdicom.com/en/api-documentation/using-postdicom-cloud-api.html" target="_blank">"Using PostDICOM Cloud API"</a> documentation.</h3>
            </div>
        </div>

        <div class="grid" id="search_result_grid">
            <table>
                <thead>
                    <tr>
                        <th>Patient Name</th>
                        <th>Patient Id</th>
                        <th>Modality</th>
                        <th>Patient Order Uid</th>
                        <th>Study Description</th>
                        <th>Procedure Description</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody id="search_result_tbody"></tbody>
            </table>
        </div>
    </div>

    <div id="folder_container">
        <div class="initialize_container">
            <div class="box_l">
                <div class="logo">
                    <img class="logo_b" src="https://www.postdicom.com/ViewerI/Images/Logo/posdicom_logo.svg" />
                    <h1>PostDICOM Cloud API Reference Implementation</h1>
                </div>
            </div>
            <div class="box_r">
                <span class="conn_stat">Connection Status: <span style="color:#00b100;">Online</span></span>
                <h2>Manage PostDICOM Folders<br /></h2>
                <form autocomplete="off" action="javascript:void(0);">
                    <label>User</label>
                    <select class="input" id="FolderUserSelectBox" onchange="FolderUserOnSelected()"></select>
                    <button class="button" id="search_button" onclick="FolderSearchButtonOnClicked('')">Get Folders</button>
                </form>
                <h3>Available Folder Functions:</h3>
                <div class="display_flex" style="justify-content: flex-start;">
                    <button class="secondary_folder_buttons add_folder_button" onclick="ShowFolderCreateForm()">Create New Folder</button>
                </div>
                <!--<button class="secondary_folder_buttons delete_folder_button">Delete Folder</button>
                <button class="secondary_folder_buttons add_order_to_folder_button">Add Order to Folder</button>-->
                <div class="return" title="Return to Cloud API Functions" onclick="ReturnSelectScreen()">

                </div>
            </div>
            <div class="desc_content">
                <h3>For more information please visit <a class="a_tag_link" href="https://www.postdicom.com/en/api-documentation/using-postdicom-cloud-api.html" target="_blank">"Using PostDICOM Cloud API"</a> documentation.</h3>
            </div>
        </div>

        <div class="grid_folder folder_result_container" id="folder_result_grid">
            <p class="folder_path_text">Folder path: <span onclick="FolderSearchButtonOnClicked('')">Home</span><label id="folder_path"></label></p>
            <div class="display_flex" style="justify-content: flex-start;" id="folder_result_container">

            </div>
            <div class="display_flex" style="justify-content: flex-start;" id="order_result_container">

            </div>
        </div>
    </div>



    <div class="form_container" id="anonymize_form_container">
        <div class="form_content">
            <div class="form_header">
                <div class="form_header_text">
                    <p>Anonymize and Upload Study</p>
                </div>
                <div class="form_close_button" onclick="CloseAnonymizeForm()">

                </div>
            </div>
            <div class="form_body_class">
                <div class="anonymize_form_each_row_class" id="anonymize_patient_name_row">
                    <div class="anonymize_form_each_column_class" style="color:#38bfdd;">
                        Patient Name
                    </div>
                    <div class="anonymize_form_each_column_class" id="selected_study_patient_name">

                    </div>
                    <div class="anonymize_form_each_column_class">
                        <input type="text" class="input anonymize_tb" id="selected_study_patient_name_tb" />
                    </div>
                </div>

                <div class="anonymize_form_each_row_class" id="anonymize_patient_id_row">
                    <div class="anonymize_form_each_column_class" style="color:#38bfdd;">
                        Patient Id
                    </div>
                    <div class="anonymize_form_each_column_class" id="selected_study_patient_id">

                    </div>
                    <div class="anonymize_form_each_column_class">
                        <input type="text" class="input anonymize_tb" id="selected_study_patient_id_tb" />
                    </div>
                </div>

                <div class="anonymize_form_each_row_class" id="anonymize_patient_other_id_row">
                    <div class="anonymize_form_each_column_class" style="color:#38bfdd;">
                        Patient Other Ids
                    </div>
                    <div class="anonymize_form_each_column_class" id="selected_study_patient_other_id">

                    </div>
                    <div class="anonymize_form_each_column_class">
                        <input type="text" class="input anonymize_tb" id="selected_study_patient_other_id_tb" />
                    </div>
                </div>

                <div class="anonymize_form_each_row_class" id="anonymize_accession_no_row">
                    <div class="anonymize_form_each_column_class" style="color:#38bfdd;">
                        Accession No
                    </div>
                    <div class="anonymize_form_each_column_class" id="selected_study_accession_no">

                    </div>
                    <div class="anonymize_form_each_column_class">
                        <input type="text" class="input anonymize_tb" id="selected_study_accession_no_tb" />
                    </div>
                </div>

                <div class="anonymize_form_each_row_class" id="anonymize_study_date_row">
                    <div class="anonymize_form_each_column_class" style="color:#38bfdd;">
                        Study Date
                    </div>
                    <div class="anonymize_form_each_column_class" id="selected_study_study_date">

                    </div>
                    <div class="anonymize_form_each_column_class">
                        <input type="date" class="input anonymize_tb" id="selected_study_study_date_tb" />
                    </div>
                </div>

                <div class="anonymize_form_each_row_class" id="anonymize_study_description_row">
                    <div class="anonymize_form_each_column_class" style="color:#38bfdd;">
                        Study Description
                    </div>
                    <div class="anonymize_form_each_column_class" id="selected_study_study_description">

                    </div>
                    <div class="anonymize_form_each_column_class">
                        <input type="text" class="input anonymize_tb" id="selected_study_study_description_tb" />
                    </div>
                </div>

                <div class="anonymize_form_each_row_class" id="anonymize_institution_name_row">
                    <div class="anonymize_form_each_column_class" style="color:#38bfdd;">
                        Institution Name
                    </div>
                    <div class="anonymize_form_each_column_class" id="selected_study_institution_name">

                    </div>
                    <div class="anonymize_form_each_column_class">
                        <input type="text" class="input anonymize_tb" id="selected_study_institution_name_tb" />
                    </div>
                </div>

            </div>
            <div class="anonymize_form_button_area">
                <div class="anonymize_form_button" onclick="UploadFilesWithAnonymousValue()">Anonymize and Upload</div>
            </div>
        </div>
    </div>

    <div id="add_document_form" class="form_container">
        <div class="form_content" style="max-width:500px; max-height:270px;">
            <div class="form_header">
                <div class="form_header_text">
                    <p id="add_document_header_text">Add Document</p>
                </div>
                <div class="form_close_button" onclick="CloseAddDocumentForm()">

                </div>
            </div>
            <div class="form_body_class" style="height:calc(100% - 98px)">
                <div class="select_file_button_area">
                    <label class="select_file_button">
                        <input class="display_none" type="file" multiple onchange="SelectDocumentFileInputOnChanged(event)">Select File
                    </label>
                </div>
                <div class="file_progress_bar">
                    <div class="progres_outer_div" style="float:none; margin:auto;">
                        <div id="document_progress_inner" class="progres_total_inner_div" style="width: 100%;">
                            <span style="margin-left:5px;" id="document_progress_text">100%</span>
                        </div>
                    </div>
                    <label id="document_progress_description">Reading</label>
                </div>
            </div>
        </div>
    </div>

    <div class="form_container" id="loading_container">
        <div class="loader_content">
            <div class="loader_outer_div">
                <div class="loader_inner_div">

                </div>
            </div>
        </div>
    </div>

    <div class="form_container" id="view_container">
        <div class="form_content" style="max-width:inherit; max-height:inherit;">
            <div class="form_header">
                <div class="form_header_text">
                    <p id="view_url_text"></p>
                </div>
                <div class="form_close_button" onclick="HideIframe()">

                </div>
            </div>
            <div class="iframe_form_body">
                <iframe id="view_iframe" frameborder="0"></iframe>
            </div>
        </div>
    </div>

    <div class="form_container" id="folder_create_form_container">
        <div class="form_content" style="max-width:560px; max-height:360px;">
            <div class="form_header">
                <div class="form_header_text">
                    <p>Create New Folder</p>
                </div>
                <div class="form_close_button" onclick="CloseFolderCreateForm()">

                </div>
            </div>
            <div class="form_body_class">
                <div class="">

                </div>
                <div class="create_folder_form_each_row_class" style="margin-top:20px;">
                    <div class="create_folder_form_each_column_class" style="text-align:right;">
                        <span style="color:red;">*</span> Folder Name:
                    </div>
                    <div class="create_folder_form_each_column_class">
                        <input type="text" class="input anonymize_tb" id="folder_create_name" />
                    </div>
                </div>
                <div class="create_folder_form_each_row_class">
                    <div class="create_folder_form_each_column_class" style="text-align:right;">
                        Folder Description:
                    </div>
                    <div class="create_folder_form_each_column_class">
                        <textarea class="anonymize_tb" style="resize:none; height: 130px" id="folder_create_description" placeholder="Created from API" disabled></textarea>
                    </div>
                </div>
            </div>
            <div class="anonymize_form_button_area">
                <div class="anonymize_form_button" style="width:70px;" onclick="CreateFolder()">Create</div>
            </div>
        </div>
    </div>

</body>
</html>
